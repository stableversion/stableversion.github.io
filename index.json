[{"content":"Download .blend file\n","permalink":"https://aira.vision/posts/metal-experiment/","summary":"Download .blend file","title":"The Metal Experiment"},{"content":"Updated: Sep 25, 2021\nRecently, I started running out of storage space. Most of the time, this isn\u0026rsquo;t a problem, as I can just delete big files I don\u0026rsquo;t need. But this time, the entire drive is precious, and I can\u0026rsquo;t just buy a new one, at least right now.\nAnd that led me to a sinkhole of compression. Turns out zip\u0026rsquo;s, rar\u0026rsquo;s, jpegs, and .mp4\u0026rsquo;s are far from being the best at anything\u0026hellip;\nCompression Algorithms As for compression algorithms, there are a lot, but each made for a specific purpose. I\u0026rsquo;ll be showing the most modern ones \u0026ndash; and consequently the best ones. As well as some niche exotic types.\nGeneral Compression  ZSTD XZ PAQPX  Image Compression  JPEG WebP AVIF  Video Compression  H.264 H.265   Images You can compress an image even further than it already is, without losing much, or any quality. Ever heard of WebP? or maybe AIFF? or, uh, JPEG?\nWebP\ncwebp -q 85 -m 6 image.jpg -o image.webp Note: The command above does not consider the original image\u0026rsquo;s \u0026ldquo;quality\u0026rdquo;; it wouldn\u0026rsquo;t make sense to convert a 40 quality JPEG into an 85 quality WebP, but you can use this command to find out.\nidentify -format \u0026#39;%Q\u0026#39; image.png You can also check out the official documentation to understand what each command does\nJPEG\nDoes it really need an explanation? OK, JPEG is a commonly used method of lossy compression for digital images. Oh, and you also can\u0026rsquo;t have transparency. And has compression artifacts so bad you see it in memes.\nffmpeg -i image.png image.jpg or\nmogrify -format jpg image.png AVIF\nAVIF is really new, like REALLY new. it took me 10 minutes just to find the \u0026ldquo;documentation\u0026rdquo;, but the results are really impressive. And im not even gonna pretend i know how it works, it\u0026rsquo;s ~magik\navifenc image.png image.avif  Testing If you\u0026rsquo;re wondering, I did not \u0026ldquo;normalize\u0026rdquo; any of the base images, nor did I take into account the different settings of different algorithms. The settings I used are listed above, as those, I found to produce the smallest size without sacrificing quality.\nVIVY PNG Image PNG 1.8MB\nJPG 105K.1B\nWEBP 66.7KB\nAVIF 33.7KB\n PNG 358.9KB\nJPG 32.2KB\nWEBP 21.3KB\nAVIF 13.1KB\nANDR JPG IMAGE Artwork By とどお\nJPEG 1.9MB\nWEBP 151.8KB\nAVIF 97.8KB\n   JPEG 42.6KB\n  WEBP 5.2KB\n  AVIF 4.7KB\n Music Generally, music can not be reasonably compressed as most music files are already lossy, meaning they lose some data in the process of compression. The only real option would be to use AAC, at a slighly lower bitrate. But if you like high-quality audio, sadly, there\u0026rsquo;s no other option.\nffmpeg -i input.mp3 -c:a libfdk_aac output.m4a ffmpeg -i input.mp3 -c:a libfdk_aac -vbr 4 output.m4a Video Videos can be compressed to HEVC, also know as h.265, with about ~%50 size reduction. Note that you will probably be re-encoding the artifacts present in the H.264 video which will harm compression efficiency and quality.\nffmpeg -i input.mp4 -c:v libx265 -c:a copy output.mp4 to convert audio too\nffmpeg -i input.mp4 -c:v libx265 -c:a aac(or libfdk_aac) output.mp4 Testing Credit: Listen To Time Again\n  H.264 (40.8MB)   H.265 (20MB)   H.264   H.265\nAlready Compressed Data it is MUCH better to first unpack the file and then recompress it with a better algorithm to achieve the best results. It is what most game repackers (not condoning piracy) usually do, one of those tools is called precomop\nGeneral Data Note: The chart is a little out of date and doesn\u0026rsquo;t account for dictionary compression, etc.\nIdeally, compressing general data, like txt\u0026rsquo;s, documents, photos, or anything, should be done using different algorithms, settings, and \u0026ldquo;extra steps\u0026rdquo; for each file, but there\u0026rsquo;s no easy way to do that. Maybe il make a program eventually\u0026hellip;\nNote: Most modern lossless compressors aren\u0026rsquo;t archivers. They aren\u0026rsquo;t meant to pack multiple files, although you can do that with tar.\ntar -cf - . | [COMPRESSER AND ARGUMENTS HERE] - \u0026gt; foo.tar.[extension] Ex.\ntar -cf - . | xz -9e -c --threads=0 - \u0026gt; foo.tar.xz Also, it is much better to compress files individually instead of archiving them, that way you won\u0026rsquo;t have to unpack the whole file to view that one folder\nZSTD You can\u0026rsquo;t go wrong with zstd, it\u0026rsquo;s the fastest modern algorithm with pleasant compression ratios and very impressive decompression times.\nIts notable feature is that it is \u0026ldquo;real-time,\u0026rdquo; meaning it can decompress quicker than any other currently available method with the same or worse compression ratio.\nThe sweet spot for zstd compression level is around 6-8, after which it becomes diminishing returns\nzstd --rm -10 -T0 -r *  \u0026ndash;rm = Remove original file after compression -10 = Compression Level -r = Recursive -* = All files in current directory  If you are archiving data, meaning you don\u0026rsquo;t need frequent and constant access to it, you can set the compression level to 19 (which is the highest it can go without the –ultra tag.) Although zstd isn\u0026rsquo;t meant to be for ultra compression, go with XZ instead. But you can still try:\nzstd --rm -19 -r * XZ XZ is 30 years old at this point, and yet, it still has better compression ratios than zstd, at the cost of being slower to compress/decompress. Xz is based on the LZMA algorithm\nxz -9 --threads=0 *  1-9 = Compression Level \u0026ndash;threads=0 = Use all core\u0026rsquo;s for compression -* = All files in current directory  PAQ Family The PAQ family was designed to be the best compression algorithm to ever exist, at the expense of everything else. It is quite impractical, but fascinating nonetheless. It can achieve a compression ratio of around 100:1 (meaning it is 100x smaller than the original) The algorithm il use to demonstrate will be PAQ8O\npaq8o -12 file  -12 = Compression Level -* = All files in current directory  Extracted XML File Generated By Ableton:\n Original: 1.5MB Compressed: 18.1KB Time: 55.56s Ratio: 84:1 !  Compared To:\n ZSTD: 40KB GZIP: 70KB  The Winners You could\u0026rsquo;ve just skipped here, anyway. The winners go as follows\nShort Version  General: ZSTD Image: AVIF Video: H.265  Long Version General Compression Best Overall\nzstd --rm -10 -T0 file Better Ratio\nxz -9 --threads=0 file Best Ratio\nxz -9e --threads=0 file Image Compression Best Overall\ncwebp -q 85 -m 6 image.png -o image.webp Best Ratio\navifenc image.png image.avif Video Compression Best Overall\nffmpeg -i input.mp4 -c:v libx264 -c:a copy output.mp4 Best Ratio\nffmpeg -i input.mp4 -c:v libx265 -c:a copy output.mp4  To Do:  Dictionary Compression Provide More Information On Algorithms Make a Universal Comp Script  ","permalink":"https://aira.vision/posts/dont-delete-compress/","summary":"Instead of deleteing, try compressing files you need, but dont need.","title":"Dont Delete, Compress!"},{"content":"Oh to walk on empty midnight streets, wondering about life and how much of an idiot you’ve been the whole time, or maybe just getting the visual pleasure and calmness of the scenery.\nTo receive the constant rapid-fire of information and artificial stimuli that you can’t take the time to actually think through, or just breathe out. Instead, mindlessly consuming, only getting a feeling of understanding, without actually understanding. Only getting a feeling of comfort, without actually being comfortable\nTo walk on thick white snow In the cold and daunting fog, but strangely, finding calmness. As if the world has stopped, and you have all the time to find the truth.\nTo find the truth that doesn’t matter, swing too much, and your back at the start.\n","permalink":"https://aira.vision/posts/midnight-solitude/","summary":"To Walk On Empty Midnights Streets","title":"Midnight Solitude"}]